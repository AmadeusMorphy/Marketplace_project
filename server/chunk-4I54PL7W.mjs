import './polyfills.server.mjs';
import{a as L,b as N,c as $}from"./chunk-ERAL2OBJ.mjs";import{a as F,b as U}from"./chunk-XZ5BBFY2.mjs";import{d as D,e as z}from"./chunk-WJOAZJHR.mjs";import{o as B}from"./chunk-EUEWGLEL.mjs";import{p as A}from"./chunk-5YJGWEOR.mjs";import"./chunk-DJ5VVTNT.mjs";import{E as j,I as p,Z as E,_ as T,m as k,o as w,s as S,v as I}from"./chunk-A7KVYSNF.mjs";import{$ as f,Ab as O,Bb as m,Ja as s,Kb as g,Lb as _,Mb as x,Na as r,Oa as l,Rb as y,Xa as v,aa as C,bb as h,kb as a,pa as M,pb as u,qb as b,rb as o,sb as i,tb as c,xb as P}from"./chunk-OFODF4HH.mjs";import"./chunk-AFOT676I.mjs";var G=(n,t)=>t.id;function H(n,t){if(n&1&&(o(0,"div",20),c(1,"img",21),i()),n&2){let e=m().$implicit;r(),a("src","https://flagcdn.com/"+(e==null||e.country==null?null:e.country.code)+".svg",s)}}function J(n,t){if(n&1){let e=P();o(0,"div",4)(1,"div",5)(2,"div",6),c(3,"img",7),i(),o(4,"span",8),g(5),i(),h(6,H,2,1,"div",9),i(),o(7,"div",10)(8,"div",11),c(9,"img",12),i(),o(10,"div",13)(11,"h2",14),g(12),i(),o(13,"div",15),c(14,"i",16),o(15,"p",17),g(16),i()()(),o(17,"div",18)(18,"p-button",19),O("onClick",function(){let R=f(e).$implicit,q=m(2);return C(q.onUpdateMerchant(R))}),i()()()()}if(n&2){let e=t.$implicit,d=m(2);r(3),a("src",e.merchant_bg,s),r(),a("ngClass",e.status==="Active"?"badge-active":e.status==="InActive"?"badge-inactive":"badge-pending"),r(),x(" ",e.status," "),r(),a("ngIf",e==null||e.country==null?null:e.country.flag),r(2),a("ngClass",e.status==="Active"?"border-active":e.status==="InActive"?"border-inactive":"border-pending"),r(),a("src",e.merchant_logo,s),r(3),_(e.full_name),r(4),_((e==null||e.country==null?null:e.country.country)||"N/A"),r(2),a("severity",e.status==="Active"?"danger":"success")("label",e.status==="Active"?"Deactivate":"Activate")("loading",d.isUpdating)}}function K(n,t){if(n&1&&(o(0,"div",3),u(1,J,19,11,"div",4,G),i()),n&2){let e=m();a("@fadeAnimation",void 0)("@.disabled",e.isLoading),r(),b(e.merchants)}}function Q(n,t){n&1&&(o(0,"div",22)(1,"div",3),c(2,"p-skeleton",23)(3,"p-skeleton",23)(4,"p-skeleton",23)(5,"p-skeleton",23)(6,"p-skeleton",23)(7,"p-skeleton",23),i()()),n&2&&(r(),a("@fadeAnimation",void 0))}var V=class n{constructor(t,e,d){this.platformId=t;this._adminService=e;this._messageService=d;this.isBrowser=I(this.platformId)}isBrowser;merchants;isLoading=!1;isUpdating=!1;ngOnInit(){this.isBrowser&&this.getAllMerchants()}getAllMerchants(){this._adminService.getAllMerchants().subscribe({next:t=>{console.log("Merchants: ",t),this.merchants=t.merchants},error:t=>{console.error("Error fetching merchants",t)}})}onUpdateMerchant(t){console.log("Clicked on this: ",t)}static \u0275fac=function(e){return new(e||n)(l(M),l($),l(p))};static \u0275cmp=v({type:n,selectors:[["app-merchants"]],features:[y([p,j])],decls:5,vars:2,consts:[[1,"container","mt-3"],["class","cards-container w-full flex flex-wrap justify-content-start gap-7 mt-5",4,"ngIf"],["class","skeleton-container",4,"ngIf"],[1,"cards-container","w-full","flex","flex-wrap","justify-content-start","gap-7","mt-5"],[1,"merchant-card"],[1,"merchant-card-header","relative"],[1,"dark-overlay"],["alt","Banner",1,"banner-image",3,"src"],[1,"status-badge",3,"ngClass"],["class","flagimg",4,"ngIf"],[1,"merchant-card-body","relative"],[1,"merchant-avatar",3,"ngClass"],["alt","Avatar",3,"src"],[1,"merchant-details"],[1,"merchant-name"],[1,"location","flex","justify-content-center","align-items-center","gap-2"],[1,"pi","pi-map-marker"],[1,"merchant-location"],[1,"merchant-actions"],[3,"onClick","severity","label","loading"],[1,"flagimg"],["height","20px","width","20px","alt","",1,"flag",3,"src"],[1,"skeleton-container"],["height","20rem","width","18rem","borderRadius","16px"]],template:function(e,d){e&1&&(o(0,"div",0),h(1,K,3,2,"div",1)(2,Q,8,1,"div",2),i(),c(3,"p-toast")(4,"p-confirmDialog")),e&2&&(r(),a("ngIf",!d.isLoading),r(),a("ngIf",d.isLoading))},dependencies:[S,k,w,B,T,E,U,F,z,D,N,L],styles:['.merchant-card[_ngcontent-%COMP%]{width:300px;border-radius:10px;overflow:hidden;background:var(--surface-card);border:1px solid var(--surface-border);box-shadow:0 4px 10px #0000001a;transition:.3s ease-in-out}.merchant-card[_ngcontent-%COMP%]   .merchant-card-header[_ngcontent-%COMP%]   .dark-overlay[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;display:block}.merchant-card[_ngcontent-%COMP%]   .merchant-card-header[_ngcontent-%COMP%]   .dark-overlay[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:0;width:100%;height:100%;background:#00000080;pointer-events:none}.merchant-card[_ngcontent-%COMP%]   .merchant-card-header[_ngcontent-%COMP%]   .dark-overlay[_ngcontent-%COMP%]   .banner-image[_ngcontent-%COMP%]{width:100%;height:150px;object-fit:cover}.merchant-card[_ngcontent-%COMP%]   .merchant-card-header[_ngcontent-%COMP%]   .status-badge[_ngcontent-%COMP%]{position:absolute;top:10px;right:10px;padding:.3rem .6rem;border-radius:15px;font-size:.8rem;font-weight:700;color:var(--primary-color-text);text-transform:uppercase;box-shadow:0 2px 6px #0000001a}.merchant-card[_ngcontent-%COMP%]   .merchant-card-header[_ngcontent-%COMP%]   .status-badge.badge-active[_ngcontent-%COMP%]{background-color:#2ce42c}.merchant-card[_ngcontent-%COMP%]   .merchant-card-header[_ngcontent-%COMP%]   .status-badge.badge-inactive[_ngcontent-%COMP%]{background-color:#ee0f0f}.merchant-card[_ngcontent-%COMP%]   .merchant-card-header[_ngcontent-%COMP%]   .status-badge.badge-pending[_ngcontent-%COMP%]{background-color:#ecca04}.merchant-card[_ngcontent-%COMP%]   .merchant-card-body[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;padding:1rem}.merchant-card[_ngcontent-%COMP%]   .merchant-card-body[_ngcontent-%COMP%]   .merchant-avatar[_ngcontent-%COMP%]{width:120px;height:120px;margin-top:-95px;border-radius:50%;overflow:hidden;border:3px solid}.merchant-card[_ngcontent-%COMP%]   .merchant-card-body[_ngcontent-%COMP%]   .merchant-avatar[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.merchant-card[_ngcontent-%COMP%]   .merchant-card-body[_ngcontent-%COMP%]   .merchant-details[_ngcontent-%COMP%]{text-align:center;margin-top:.4rem}.merchant-card[_ngcontent-%COMP%]   .merchant-card-body[_ngcontent-%COMP%]   .merchant-details[_ngcontent-%COMP%]   .merchant-name[_ngcontent-%COMP%]{font-size:1.2rem;font-weight:700;margin:0}.merchant-card[_ngcontent-%COMP%]   .merchant-card-body[_ngcontent-%COMP%]   .merchant-details[_ngcontent-%COMP%]   .merchant-location[_ngcontent-%COMP%], .merchant-card[_ngcontent-%COMP%]   .merchant-card-body[_ngcontent-%COMP%]   .merchant-details[_ngcontent-%COMP%]   .pi-map-marker[_ngcontent-%COMP%]{font-size:.9rem;color:#777;margin:.2rem 0 1rem}.merchant-card[_ngcontent-%COMP%]   .merchant-card-body[_ngcontent-%COMP%]   .merchant-actions[_ngcontent-%COMP%]{display:flex;gap:.5rem;margin-bottom:.5rem}.merchant-card[_ngcontent-%COMP%]   .merchant-card-body[_ngcontent-%COMP%]   .merchant-actions[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{padding:.5rem 1rem;border-radius:5px;border:none;font-size:.9rem;cursor:pointer;transition:background .3s ease}.merchant-card[_ngcontent-%COMP%]   .merchant-card-body[_ngcontent-%COMP%]   .merchant-actions[_ngcontent-%COMP%]   .btn.edit-merchant[_ngcontent-%COMP%]{background:#000;color:#fff}.merchant-card[_ngcontent-%COMP%]   .merchant-card-body[_ngcontent-%COMP%]   .merchant-actions[_ngcontent-%COMP%]   .btn.edit-merchant[_ngcontent-%COMP%]:hover{background:#333}.merchant-card[_ngcontent-%COMP%]   .merchant-card-body[_ngcontent-%COMP%]   .merchant-actions[_ngcontent-%COMP%]   .btn.settings[_ngcontent-%COMP%]{background:#f0f0f0;color:#000}.merchant-card[_ngcontent-%COMP%]   .merchant-card-body[_ngcontent-%COMP%]   .merchant-actions[_ngcontent-%COMP%]   .btn.settings[_ngcontent-%COMP%]:hover{background:#e0e0e0}.flagimg[_ngcontent-%COMP%]{top:10px;position:absolute;left:10px;background:#29292973;padding:7px;border-radius:20px;width:40px;display:flex;justify-content:center}.border-active[_ngcontent-%COMP%]{border-color:#2ce42c!important}.border-inactive[_ngcontent-%COMP%]{border-color:#ee0f0f!important}.border-pending[_ngcontent-%COMP%]{border-color:#ecca04!important}'],data:{animation:[A]}})};export{V as MerchantsComponent};
